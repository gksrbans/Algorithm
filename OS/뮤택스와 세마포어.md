# Mutex와 Semahpore

GIL 이슈에서 정리했던 것 처럼 공유된 자원에 대해서 여러 프로세스가 동시에 접근할 경우에 문제가 발생할 수 있음.
이러한 이슈를 해결하기 위한 개념이 세마포어임.
뮤택스는 세마포어의 일종이며 이진 세마포어에 속함.

뮤택스와 세마포어를 설명할 때 화장실 예제를 많이 사용함.
식당에 화장실이 하나밖에 없는 경우에 Key Object를 들고 화장실을 사용해야함.
이 때, 다른 사람이 화장실에 가고싶은 경우 Key가 없기 때문에 Key를 들고 화장실에 간 사람이 올 때까지 기다려야함.
뮤택스에서 화장실은 단일 갯수임.

세마포어는 식당에 화장실이 다수개가 있음.
3칸이 있다고 가정한다면, 3칸이 전부다 차있을 경우 화장실에 가고싶은 사람은 대기를 함.
하지만 하나라도 화장실이 비어있다면 Flag가 True이기 때문에 3개의 화장실 중에 비어있는 화장실을 가면 됨.

> 결론
> 뮤택스 : 한개의 쓰레드, 프로세스를 통해 Key object를 기반으로하는 상호 배제 기법.
> 세마포어 : 현재 공유자원에 접근할 수 있는 쓰레드, 프로세스의 수를 나타내는 값을 두어 상호배제를 달성하는 기법.
> 뮤택스는 이진 세마포어로 칠 수 있다.


Refer
https://worthpreading.tistory.com/90
https://junghyun100.github.io/Semaphore&Mutex/
